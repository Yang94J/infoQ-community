# url : https://apifriends.com/api-management/value-api-gateway-microservices-ipaas/


此中更有黄金屋[1]（山中有黄金[1]）
                -David McKenna

最近，当我正向执行董事会推销时[2]，突然想到，如果能从一些旧文档中找回些内容并包含在我的宣传中，那将非常完美。然而，令我沮丧的是，试图找到这个文件如同在寻找圣杯——我在Syncplicity、Google Drive、各种机器（笔记本电脑、台式机）、外置硬盘、床头柜等任何你能想到的地方……直到最后我在一个多年未使用却异常可靠的Iomega Zip Drive上找到了它！

当我告诉一位同事我丢失文件的探寻时，她笑着为我指向下面的xkcd漫画[3]：

令我震惊的是，动漫所描述的内容不仅对我来说无比真实，其在企业内部也是如此。 在企业中，随着时间的推移，技术层层部署。许多较老旧的技术虽仍有价值、尚未过时，但对这些技术的依赖将会带来成本和债务。 另一方面，当人们考虑淘汰或替换方法时，风险和成本随之产生。当我退后一步以一览公司和客户的现有架构全貌时，我想起了大学时代的“恐怖”地质课：这些架构就像地球的地质剖面图！

即使许多企业正在经历数字化转型，但老旧、深层中所包含的技术和相关数据仍然可以发光发热。也正因为底层为新支柱（技术）的部署奠定了基础，所以我们不能简单地将它们除去。 这些层中很多都具有传统接口（CORBA、RMI、SOAP等），或具有是只能通过SDK访问的专有接口，又或者它们很可能是没有可编程接口的封闭系统。 但是我们仍然需要可访问此技术和数据，以新的方式（例如移动、IoT、大数据、机器学习等）改变、利用它们。

然而，我们将如何对这些层进行开采？ 我们将如何获得这些深埋在企业内部的金块？ 我们又将如何解锁这些数据以便将其应用到新的商机中去？

答案是：集成技术！

我们需要利用基础层的集成技术来将这层的功能作为服务公开，或者可能只是从原始数据存储中解锁数据并使其易于使用。 无论是修改旧界面还是现代化数据访问，这两种场景都允许通过现代化的API对旧系统发起访问。

像采矿一样，传统应用集成提供了许多不同的方法来从各层中提取数据并使其可被访问（支持API）。

API网关的价值

你可以尝试使用传统的煤矿开采方法：在地下挖出一个竖井，外界所看到的一切都是竖井的顶部，与此同时，在地下深处，你正从各层中挖取煤炭（价值）。使用传统的API网关进行部署与此类似，唯一暴露给外部环境的是边界网络中的网关（即矿井顶部）。 该网关促进公开干净、容易使用的API，从而使外部的API调用者无需深入了解系统的复杂或陷阱便可以创建他们的应用程序并进行集成，这样做会减少了技术负担，使传统技术成为了API经济[4]的参与者。

企业服务总线的价值

企业服务总线（ESB）就如同矿的竖井。后者是采矿的支柱，也是采矿者（人类）和煤炭返回地面的途径。 ESB充当共享消息传递主干道，在整个企业层之间连接应用程序和其他服务。它提供中介程序来转换协议、负载和数据，从而使企业能够采用各种集成方案。

微服务的价值

然后，访问这些层的另一种方法是将体系结构向微服务转变，同时修改组织结构以便采用微服务架构。 你可能会想到，采用微服务架构是一种极具破坏性的方法，并人们将会为此付出代价。

尝试这种类型的转型的公司必须在运营上成熟。采用微服务架构等同于露天挖掘。如果成功的话，你将能有效地释放价值，但是当完成后，你将无法识别组织。 该组织将提高敏捷、改变文化以采用DevOps思维方式，并将围绕服务构建团队。康威法律（Conway's Law）告诉我们，如果你想更改架构，那么你必须首先重组公司加以匹配。

由于露天采集所留下的环境痕迹，很显然它具有非常负面的形象。 但是，我们不应以相同的理由来否定、感知微服务架构。 成功采用微服务架构的组织可以享受敏捷和上线（上市）速度的提高，并从中受益。这是因为微服务不需要团队在添加新功能时重写和并重新部署整个应用程序。 而且，较小的微服务代码库使得维护更加容易和快捷。 这样可以节省大量的开发工作和时间，从而提高了整体生产率。 最后，由于其成功需要成熟的运维（DevOps），这意味着对从创意到为客户创造价值，其中时间将取决于CI / CD流程。

ipaas的价值

在当今的企业架构环境中，我们越来越多的看到将就地部署和云端部署混合使用的方法。 在本地数据中心内部部署基础架构和软件的日子已经过去了，现在的公司可以通过挑选并选择云中建立的新层，然后将新技术与现有的传统服务结合起来，实现现代化。 这种结合也确实是一种集成，且为了利用云地集成、甚至云间集成的力量，架构还引入了一种新型的“as-a-servie”-集成平台即服务 （iPaaS）。

iPass可以比喻为利用可再生能源中的风能。 例如，风力涡轮机可为现有基础设施（电网）增加电力，但却无法为自己功能。虽然仍然需要现有的旧电源，但是新旧电源可以共同改善整体。 iPaaS通过提供一种手段来集成跨网络（内部部署和云）的不同技术来提供功能。 iPaaS的“涡轮”提供集成模板、映射、转换、解调等，以及通常针对基于API/JSON集成的常见云集成模式的解决方案。 就像电网一样，轻量级网关存在于不同的云间以及云地之间，就像在当前电网中存在一个变电站一样。

API组合工具的价值

即使您你经挖掘了旧数据并将其作为服务公开，你仍然需要对其进行完善，就像提炼开采的资源那样。 提炼过程是使API对API调用者来说更加友好。比如转换负载，或提供一个将其他服务聚合或编排的外观。 Axway API Builder可促进并完善现有API和数据源，从而使其对调用者来说更加友好。

企业中充满了可以使用许多不同技术进行开采和提炼的现有价值。“山中有黄金”，我们可以将其挖掘出来并应用于新的商机。正如我们所看到的哪有，有很多技术都可以实现这些潜在价值。

[1] There’s gold in them thar hills 其实是指有可能在某一特定活动和地点赚到钱 直译为山中有黄金 意译理解为“此中更有黄金屋”更为切合题意

[2] pitch ： 是指美国公关行业“黑话”，可以理解为一种推销。

[3] xkcd : 漫画名称，没有任何意义

[4] API经济 ： API技术产生的经济活动